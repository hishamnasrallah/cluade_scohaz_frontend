<!-- src/app/components/theme-creator/theme-creator.component.html (FULL FILE - UPDATED) -->
<div class="theme-creator-container">
  <!-- Header -->
  <mat-card class="theme-header ocean-mint-card">
    <div class="header-content">
      <div class="brand-section">
        <div class="logo-wrapper">
          <mat-icon class="brand-icon">palette</mat-icon>
        </div>
        <div class="brand-info">
          <h1 class="brand-title">Theme Builder Pro</h1>
          <p class="brand-subtitle">Enterprise Dynamic Theme System</p>
        </div>
      </div>

      <div class="header-actions">
        <button mat-stroked-button
                class="ocean-mint-stroked"
                (click)="fileInput.click()">
          <mat-icon>upload</mat-icon>
          Import
        </button>
        <input #fileInput
               type="file"
               accept=".json"
               style="display: none"
               (change)="importTheme($event)">

        <button mat-stroked-button
                class="ocean-mint-stroked"
                (click)="exportTheme()">
          <mat-icon>download</mat-icon>
          Export
        </button>

        <button mat-stroked-button
                class="ocean-mint-stroked"
                (click)="showShowcase()">
          <mat-icon>preview</mat-icon>
          Show case
        </button>

        <button mat-stroked-button
                class="ocean-mint-stroked"
                (click)="resetTheme()">
          <mat-icon>refresh</mat-icon>
          Reset
        </button>

        <button mat-raised-button
                color="primary"
                [disabled]="isSaving"
                (click)="saveTheme()">
          <mat-icon>save</mat-icon>
          {{ isSaving ? 'Saving...' : 'Save Theme' }}
        </button>

        <button mat-icon-button
                [matTooltip]="currentTheme.mode === 'light' ? 'Switch to Dark Mode' : 'Switch to Light Mode'"
                (click)="toggleMode()">
          <mat-icon>{{ currentTheme.mode === 'light' ? 'dark_mode' : 'light_mode' }}</mat-icon>
        </button>
      </div>
    </div>
  </mat-card>

  <!-- Main Content Grid -->
  <div class="content-grid">
    <!-- Theme Controls Panel -->
    <mat-card class="controls-panel ocean-mint-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>tune</mat-icon>
          Theme Controls
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <!-- Design Presets -->
        <div class="presets-section">
          <h3 class="section-title">Design Presets</h3>
          <div class="presets-grid">
            <button *ngFor="let preset of themePresets"
                    mat-stroked-button
                    class="preset-button"
                    [ngClass]="{'active': currentTheme.designStyle === preset.config.designStyle && currentTheme.primaryColor === preset.config.primaryColor}"
                    (click)="applyPreset(preset)"
                    [matTooltip]="preset.name">
              <span class="preset-icon">{{ preset.icon }}</span>
              <span class="preset-name">{{ preset.name }}</span>
            </button>
          </div>
        </div>

        <mat-divider class="section-divider"></mat-divider>

        <!-- Theme Customization Tabs -->
        <mat-tab-group [(selectedIndex)]="selectedTabIndex"
                       animationDuration="300ms"
                       class="theme-tabs">

          <!-- Colors Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>palette</mat-icon>
              <span>Colors</span>
            </ng-template>

            <div class="tab-content">
              <!-- Advanced Color Controls with ALL color properties -->
              <app-advanced-color-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-advanced-color-controls>
            </div>
          </mat-tab>

          <!-- Gradients Tab (NEW) -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>gradient</mat-icon>
              <span>Gradients</span>
            </ng-template>

            <div class="tab-content">
              <!-- Gradient Editor -->
              <app-gradient-editor
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-gradient-editor>
            </div>
          </mat-tab>

          <!-- Typography Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>text_fields</mat-icon>
              <span>Typography</span>
            </ng-template>

            <div class="tab-content">
              <!-- Advanced Typography Controls with ALL typography properties -->
              <app-advanced-typography-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-advanced-typography-controls>
            </div>
          </mat-tab>

          <!-- Layout & Spacing Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>view_quilt</mat-icon>
              <span>Layout</span>
            </ng-template>

            <div class="tab-content">
              <!-- Layout Controls with grid, spacing, containers -->
              <app-layout-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-layout-controls>
            </div>
          </mat-tab>

          <!-- Density Tab (NEW) -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>view_comfy</mat-icon>
              <span>Density</span>
            </ng-template>

            <div class="tab-content">
              <!-- Density Controls -->
              <app-density-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-density-controls>
            </div>
          </mat-tab>

          <!-- Borders & Radius Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>rounded_corner</mat-icon>
              <span>Borders</span>
            </ng-template>

            <div class="tab-content">
              <!-- Border Controls with all radius and border properties -->
              <app-border-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-border-controls>
            </div>
          </mat-tab>

          <!-- Shadows & Effects Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>blur_on</mat-icon>
              <span>Effects</span>
            </ng-template>

            <div class="tab-content">
              <!-- Shadow Controls with all shadow definitions -->
              <app-shadow-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-shadow-controls>
            </div>
          </mat-tab>

          <!-- Components Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>widgets</mat-icon>
              <span>Components</span>
            </ng-template>

            <div class="tab-content">
              <!-- Component Controls with button, input, card properties -->
              <app-component-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-component-controls>
            </div>
          </mat-tab>

          <!-- Icons Tab (NEW) -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>emoji_symbols</mat-icon>
              <span>Icons</span>
            </ng-template>

            <div class="tab-content">
              <!-- Icon Style Selector -->
              <app-icon-style-selector
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-icon-style-selector>
            </div>
          </mat-tab>

          <!-- Animation Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>animation</mat-icon>
              <span>Animation</span>
            </ng-template>

            <div class="tab-content">
              <app-animation-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-animation-controls>
            </div>
          </mat-tab>

          <!-- Brand Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>business</mat-icon>
              <span>Brand</span>
            </ng-template>

            <div class="tab-content">
              <app-brand-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-brand-controls>
            </div>
          </mat-tab>

          <!-- Accessibility Tab -->
          <mat-tab>
            <ng-template mat-tab-label>
              <mat-icon>accessibility</mat-icon>
              <span>A11y</span>
            </ng-template>

            <div class="tab-content">
              <app-accessibility-controls
                [theme]="currentTheme"
                (themeChange)="onThemeChange($event)">
              </app-accessibility-controls>
            </div>
          </mat-tab>
        </mat-tab-group>
      </mat-card-content>
    </mat-card>

    <!-- Live Preview Panel -->
    <div class="preview-panel">
      <mat-card class="ocean-mint-card preview-container">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>visibility</mat-icon>
            Live Preview
          </mat-card-title>
          <button mat-icon-button
                  (click)="isPreviewExpanded = !isPreviewExpanded"
                  [matTooltip]="isPreviewExpanded ? 'Collapse' : 'Expand'">
            <mat-icon>{{ isPreviewExpanded ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>
          </button>
        </mat-card-header>

        <mat-card-content class="preview-content">
          <!-- Preview Container with Isolated Styles -->
          <div #previewContainer class="theme-preview-root">
            <!-- Brand Header -->
            <div class="preview-brand-header theme-brand-header">
              <img *ngIf="currentTheme.logoUrl"
                   [src]="currentTheme.logoUrl"
                   alt="Logo"
                   class="theme-logo"
                   (error)="onLogoError($event)">
              <h2 class="theme-brand-name">{{ currentTheme.brandName }}</h2>
            </div>

            <!-- Navigation Example -->
            <nav class="preview-nav theme-nav">
              <button *ngFor="let item of navigationItems; trackBy: trackByNavItem"
                      mat-button
                      class="nav-item theme-nav-item">
                {{ item }}
              </button>
            </nav>

            <!-- Metrics Grid -->
            <div class="metrics-grid theme-metrics">
              <mat-card *ngFor="let metric of sampleMetrics; trackBy: trackByMetric"
                        class="metric-card theme-card">
                <div class="metric-header">
                  <mat-icon class="theme-icon"
                            [class]="'icon-' + currentTheme.iconStyle"
                            [style.color]="metric.trend === 'up' ? currentTheme.successColor : currentTheme.errorColor">
                    {{ metric.icon }}
                  </mat-icon>
                  <span class="metric-change theme-text-accent"
                        [style.color]="metric.trend === 'up' ? currentTheme.successColor : currentTheme.errorColor">
                    {{ metric.change }}
                  </span>
                </div>
                <h3 class="metric-value theme-heading">{{ metric.value }}</h3>
                <p class="metric-title theme-text">{{ metric.title }}</p>
              </mat-card>
            </div>

            <!-- Component Showcase Section -->
            <mat-card class="component-showcase-card theme-card">
              <mat-card-header>
                <mat-card-title class="theme-heading">Component Properties Showcase</mat-card-title>
              </mat-card-header>

              <mat-card-content>
                <!-- Button Showcase -->
                <div class="component-section">
                  <h4 class="section-title theme-heading-small">Buttons</h4>
                  <div class="button-showcase">
                    <button class="theme-button theme-button-primary"
                            [style.height.px]="currentTheme.buttonHeight"
                            [style.padding]="currentTheme.buttonPaddingY + 'px ' + currentTheme.buttonPaddingX + 'px'"
                            [style.font-size.px]="currentTheme.buttonFontSize"
                            [style.font-weight]="currentTheme.buttonFontWeight"
                            [style.border-radius.px]="currentTheme.buttonBorderRadius">
                      <mat-icon [class]="'icon-' + currentTheme.iconStyle">check</mat-icon>
                      Primary Button
                    </button>

                    <button class="theme-button theme-button-secondary"
                            [style.height.px]="currentTheme.buttonHeight"
                            [style.padding]="currentTheme.buttonPaddingY + 'px ' + currentTheme.buttonPaddingX + 'px'"
                            [style.font-size.px]="currentTheme.buttonFontSize"
                            [style.font-weight]="currentTheme.buttonFontWeight"
                            [style.border-radius.px]="currentTheme.buttonBorderRadius">
                      Secondary
                    </button>

                    <button class="theme-button theme-button-outline"
                            [style.height.px]="currentTheme.buttonHeight"
                            [style.padding]="currentTheme.buttonPaddingY + 'px ' + currentTheme.buttonPaddingX + 'px'"
                            [style.font-size.px]="currentTheme.buttonFontSize"
                            [style.font-weight]="currentTheme.buttonFontWeight"
                            [style.border-radius.px]="currentTheme.buttonBorderRadius">
                      Outline
                    </button>

                    <button class="theme-button theme-icon-button"
                            [style.width.px]="currentTheme.buttonHeight"
                            [style.height.px]="currentTheme.buttonHeight"
                            [style.border-radius.px]="currentTheme.buttonBorderRadius">
                      <mat-icon [class]="'icon-' + currentTheme.iconStyle">add</mat-icon>
                    </button>
                  </div>
                </div>

                <!-- Gradient Showcase (NEW) -->
                <div class="component-section" *ngIf="currentTheme.enableGradients">
                  <h4 class="section-title theme-heading-small">Gradients</h4>
                  <div class="gradient-showcase">
                    <div class="gradient-box"
                         [style.background]="currentTheme.primaryGradient">
                      Primary Gradient
                    </div>
                    <div class="gradient-box"
                         [style.background]="currentTheme.secondaryGradient">
                      Secondary Gradient
                    </div>
                    <div class="gradient-box"
                         [style.background]="currentTheme.accentGradient">
                      Accent Gradient
                    </div>
                    <div class="gradient-box"
                         [style.background]="currentTheme.backgroundGradient">
                      Background Gradient
                    </div>
                  </div>
                </div>

                <!-- Input Showcase -->
                <div class="component-section">
                  <h4 class="section-title theme-heading-small">Inputs</h4>
                  <div class="input-showcase">
                    <input type="text"
                           placeholder="Text input"
                           class="theme-input"
                           [style.height.px]="currentTheme.inputHeight"
                           [style.padding]="currentTheme.inputPaddingY + 'px ' + currentTheme.inputPaddingX + 'px'"
                           [style.font-size.px]="currentTheme.inputFontSize"
                           [style.border-radius.px]="currentTheme.inputBorderRadius">

                    <div class="input-with-icon">
                      <mat-icon class="input-icon" [class]="'icon-' + currentTheme.iconStyle">search</mat-icon>
                      <input type="text"
                             placeholder="Search..."
                             class="theme-input with-icon"
                             [style.height.px]="currentTheme.inputHeight"
                             [style.padding]="currentTheme.inputPaddingY + 'px ' + currentTheme.inputPaddingX + 'px'"
                             [style.padding-left.px]="currentTheme.inputPaddingX + 32"
                             [style.font-size.px]="currentTheme.inputFontSize"
                             [style.border-radius.px]="currentTheme.inputBorderRadius">
                    </div>

                    <textarea placeholder="Textarea"
                              rows="3"
                              class="theme-textarea"
                              [style.padding]="currentTheme.inputPaddingY + 'px ' + currentTheme.inputPaddingX + 'px'"
                              [style.font-size.px]="currentTheme.inputFontSize"
                              [style.border-radius.px]="currentTheme.inputBorderRadius"></textarea>

                    <select class="theme-select"
                            [style.height.px]="currentTheme.inputHeight"
                            [style.padding]="currentTheme.inputPaddingY + 'px ' + currentTheme.inputPaddingX + 'px'"
                            [style.font-size.px]="currentTheme.inputFontSize"
                            [style.border-radius.px]="currentTheme.inputBorderRadius">
                      <option>Select option</option>
                      <option>Option 1</option>
                      <option>Option 2</option>
                    </select>
                  </div>
                </div>

                <!-- Card Showcase -->
                <div class="component-section">
                  <h4 class="section-title theme-heading-small">Cards</h4>
                  <div class="card-showcase">
                    <div class="theme-demo-card"
                         [style.padding.px]="currentTheme.cardPadding"
                         [style.border-radius.px]="currentTheme.cardBorderRadius"
                         [attr.data-elevation]="currentTheme.cardElevation">
                      <h5 class="card-title">Card Title</h5>
                      <p class="card-content">This card demonstrates the current card properties including padding, border radius, and elevation.</p>
                      <div class="card-actions">
                        <button class="theme-button-small">Action</button>
                      </div>
                    </div>

                    <div class="theme-demo-card compact"
                         [style.padding.px]="currentTheme.cardPadding * 0.75"
                         [style.border-radius.px]="currentTheme.cardBorderRadius"
                         [attr.data-elevation]="currentTheme.cardElevation">
                      <div class="card-header">
                        <mat-icon [class]="'icon-' + currentTheme.iconStyle">dashboard</mat-icon>
                        <span>Compact Card</span>
                      </div>
                      <p>Smaller card variant with adjusted padding</p>
                    </div>
                  </div>
                </div>

                <!-- Icon Styles Showcase (NEW) -->
                <div class="component-section">
                  <h4 class="section-title theme-heading-small">Icon Styles</h4>
                  <div class="icon-showcase">
                    <mat-icon [class]="'icon-' + currentTheme.iconStyle">home</mat-icon>
                    <mat-icon [class]="'icon-' + currentTheme.iconStyle">favorite</mat-icon>
                    <mat-icon [class]="'icon-' + currentTheme.iconStyle">settings</mat-icon>
                    <mat-icon [class]="'icon-' + currentTheme.iconStyle">star</mat-icon>
                    <mat-icon [class]="'icon-' + currentTheme.iconStyle">notifications</mat-icon>
                    <mat-icon [class]="'icon-' + currentTheme.iconStyle">shopping_cart</mat-icon>
                  </div>
                </div>

                <!-- Modal Preview -->
                <div class="component-section">
                  <h4 class="section-title theme-heading-small">Modal</h4>
                  <div class="modal-showcase">
                    <div class="theme-modal-preview"
                         [style.border-radius.px]="currentTheme.modalBorderRadius"
                         [style.padding.px]="currentTheme.modalPadding">
                      <div class="modal-header">
                        <h3>Modal Title</h3>
                        <button class="modal-close">
                          <mat-icon [class]="'icon-' + currentTheme.iconStyle">close</mat-icon>
                        </button>
                      </div>
                      <div class="modal-content">
                        <p>This is a modal dialog preview showing the current modal styling with padding and border radius.</p>
                      </div>
                      <div class="modal-footer">
                        <button class="theme-button-secondary">Cancel</button>
                        <button class="theme-button-primary">Confirm</button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Tooltip Preview -->
                <div class="component-section">
                  <h4 class="section-title theme-heading-small">Tooltips</h4>
                  <div class="tooltip-showcase">
                    <div class="tooltip-trigger">
                      Hover me for tooltip
                      <div class="theme-tooltip"
                           [style.font-size.px]="currentTheme.tooltipFontSize"
                           [style.padding.px]="currentTheme.tooltipPadding"
                           [style.border-radius.px]="currentTheme.tooltipBorderRadius">
                        This is a tooltip
                      </div>
                    </div>

                    <div class="tooltip-trigger">
                      <mat-icon [class]="'icon-' + currentTheme.iconStyle">info</mat-icon>
                      <div class="theme-tooltip icon-tooltip"
                           [style.font-size.px]="currentTheme.tooltipFontSize"
                           [style.padding.px]="currentTheme.tooltipPadding"
                           [style.border-radius.px]="currentTheme.tooltipBorderRadius">
                        Icon tooltip
                      </div>
                    </div>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>

            <!-- Sample Form -->
            <mat-card class="sample-form-card theme-card">
              <mat-card-header>
                <mat-card-title class="theme-heading">Sample Form</mat-card-title>
              </mat-card-header>

              <mat-card-content>
                <form class="sample-form">
                  <div class="form-row">
                    <mat-form-field appearance="outline" class="theme-form-field">
                      <mat-label>Full Name</mat-label>
                      <input matInput placeholder="Enter your name" class="theme-input">
                      <mat-icon matPrefix class="theme-icon" [class]="'icon-' + currentTheme.iconStyle">person</mat-icon>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="theme-form-field">
                      <mat-label>Email</mat-label>
                      <input matInput type="email" placeholder="Enter your email" class="theme-input">
                      <mat-icon matPrefix class="theme-icon" [class]="'icon-' + currentTheme.iconStyle">email</mat-icon>
                    </mat-form-field>
                  </div>

                  <mat-form-field appearance="outline" class="theme-form-field full-width">
                    <mat-label>Message</mat-label>
                    <textarea matInput rows="4" placeholder="Type your message..." class="theme-input"></textarea>
                  </mat-form-field>

                  <div class="button-group">
                    <button mat-raised-button
                            class="theme-button theme-button-primary">
                      <mat-icon [class]="'icon-' + currentTheme.iconStyle">check</mat-icon>
                      Submit
                    </button>

                    <button mat-raised-button class="theme-button theme-button-secondary">
                      <mat-icon [class]="'icon-' + currentTheme.iconStyle">refresh</mat-icon>
                      Reset
                    </button>

                    <button mat-stroked-button
                            class="theme-button theme-button-outline">
                      Cancel
                    </button>
                  </div>
                </form>
              </mat-card-content>
            </mat-card>

            <!-- Typography Preview -->
            <!-- Typography Preview -->
            <mat-card class="typography-preview theme-card">
              <mat-card-header>
                <mat-card-title class="theme-heading">Complete Typography Showcase</mat-card-title>
              </mat-card-header>

              <mat-card-content>
                <!-- Heading Levels Section -->
                <div class="typography-section">
                  <h4 class="section-title">Heading Levels</h4>
                  <div class="headings-showcase">
                    <div class="heading-item">
                      <h1 class="theme-h1"
                          [style.font-family]="currentTheme.headingFontFamily"
                          [style.font-weight]="currentTheme.headingFontWeight"
                          [style.font-size.px]="currentTheme.h1Size * currentTheme.textScaling">
                        Heading Level 1 ({{ currentTheme.h1Size }}px)
                      </h1>
                    </div>
                    <div class="heading-item">
                      <h2 class="theme-h2"
                          [style.font-family]="currentTheme.headingFontFamily"
                          [style.font-weight]="currentTheme.headingFontWeight"
                          [style.font-size.px]="currentTheme.h2Size * currentTheme.textScaling">
                        Heading Level 2 ({{ currentTheme.h2Size }}px)
                      </h2>
                    </div>
                    <div class="heading-item">
                      <h3 class="theme-h3"
                          [style.font-family]="currentTheme.headingFontFamily"
                          [style.font-weight]="currentTheme.headingFontWeight"
                          [style.font-size.px]="currentTheme.h3Size * currentTheme.textScaling">
                        Heading Level 3 ({{ currentTheme.h3Size }}px)
                      </h3>
                    </div>
                    <div class="heading-item">
                      <h4 class="theme-h4"
                          [style.font-family]="currentTheme.headingFontFamily"
                          [style.font-weight]="currentTheme.headingFontWeight"
                          [style.font-size.px]="currentTheme.h4Size * currentTheme.textScaling">
                        Heading Level 4 ({{ currentTheme.h4Size }}px)
                      </h4>
                    </div>
                    <div class="heading-item">
                      <h5 class="theme-h5"
                          [style.font-family]="currentTheme.headingFontFamily"
                          [style.font-weight]="currentTheme.headingFontWeight"
                          [style.font-size.px]="currentTheme.h5Size * currentTheme.textScaling">
                        Heading Level 5 ({{ currentTheme.h5Size }}px)
                      </h5>
                    </div>
                    <div class="heading-item">
                      <h6 class="theme-h6"
                          [style.font-family]="currentTheme.headingFontFamily"
                          [style.font-weight]="currentTheme.headingFontWeight"
                          [style.font-size.px]="currentTheme.h6Size * currentTheme.textScaling">
                        Heading Level 6 ({{ currentTheme.h6Size }}px)
                      </h6>
                    </div>
                  </div>
                </div>

                <mat-divider class="typography-divider"></mat-divider>

                <!-- Font Weights Section -->
                <div class="typography-section">
                  <h4 class="section-title">Font Weight Variations</h4>
                  <div class="weights-showcase">
                    <p class="weight-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeightLight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Light Weight ({{ currentTheme.fontWeightLight }}) - The quick brown fox jumps over the lazy dog
                    </p>
                    <p class="weight-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Regular Weight ({{ currentTheme.fontWeight }}) - The quick brown fox jumps over the lazy dog
                    </p>
                    <p class="weight-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeightMedium"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Medium Weight ({{ currentTheme.fontWeightMedium }}) - The quick brown fox jumps over the lazy dog
                    </p>
                    <p class="weight-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeightBold"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Bold Weight ({{ currentTheme.fontWeightBold }}) - The quick brown fox jumps over the lazy dog
                    </p>
                  </div>
                </div>

                <mat-divider class="typography-divider"></mat-divider>

                <!-- Line Height Variations Section -->
                <div class="typography-section">
                  <h4 class="section-title">Line Height Variations</h4>
                  <div class="line-height-showcase">
                    <div class="line-height-sample">
                      <span class="variation-label">Tight ({{ currentTheme.lineHeightTight }})</span>
                      <p [style.font-family]="currentTheme.fontFamily"
                         [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                         [style.font-weight]="currentTheme.fontWeight"
                         [style.line-height]="currentTheme.lineHeightTight"
                         [style.letter-spacing.em]="currentTheme.letterSpacing">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
                      </p>
                    </div>
                    <div class="line-height-sample">
                      <span class="variation-label">Normal ({{ currentTheme.lineHeight }})</span>
                      <p [style.font-family]="currentTheme.fontFamily"
                         [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                         [style.font-weight]="currentTheme.fontWeight"
                         [style.line-height]="currentTheme.lineHeight"
                         [style.letter-spacing.em]="currentTheme.letterSpacing">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
                      </p>
                    </div>
                    <div class="line-height-sample">
                      <span class="variation-label">Relaxed ({{ currentTheme.lineHeightRelaxed }})</span>
                      <p [style.font-family]="currentTheme.fontFamily"
                         [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                         [style.font-weight]="currentTheme.fontWeight"
                         [style.line-height]="currentTheme.lineHeightRelaxed"
                         [style.letter-spacing.em]="currentTheme.letterSpacing">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.
                      </p>
                    </div>
                  </div>
                </div>

                <mat-divider class="typography-divider"></mat-divider>

                <!-- Letter Spacing Variations Section -->
                <div class="typography-section">
                  <h4 class="section-title">Letter Spacing Variations</h4>
                  <div class="letter-spacing-showcase">
                    <div class="letter-spacing-sample">
                      <span class="variation-label">Tight ({{ currentTheme.letterSpacingTight }}em)</span>
                      <p [style.font-family]="currentTheme.fontFamily"
                         [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                         [style.font-weight]="currentTheme.fontWeight"
                         [style.line-height]="currentTheme.lineHeight"
                         [style.letter-spacing.em]="currentTheme.letterSpacingTight">
                        The quick brown fox jumps over the lazy dog. Pack my box with five dozen liquor jugs.
                      </p>
                    </div>
                    <div class="letter-spacing-sample">
                      <span class="variation-label">Normal ({{ currentTheme.letterSpacing }}em)</span>
                      <p [style.font-family]="currentTheme.fontFamily"
                         [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                         [style.font-weight]="currentTheme.fontWeight"
                         [style.line-height]="currentTheme.lineHeight"
                         [style.letter-spacing.em]="currentTheme.letterSpacing">
                        The quick brown fox jumps over the lazy dog. Pack my box with five dozen liquor jugs.
                      </p>
                    </div>
                    <div class="letter-spacing-sample">
                      <span class="variation-label">Wide ({{ currentTheme.letterSpacingWide }}em)</span>
                      <p [style.font-family]="currentTheme.fontFamily"
                         [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                         [style.font-weight]="currentTheme.fontWeight"
                         [style.line-height]="currentTheme.lineHeight"
                         [style.letter-spacing.em]="currentTheme.letterSpacingWide">
                        The quick brown fox jumps over the lazy dog. Pack my box with five dozen liquor jugs.
                      </p>
                    </div>
                  </div>
                </div>

                <mat-divider class="typography-divider"></mat-divider>

                <!-- Font Sizes Section -->
                <div class="typography-section">
                  <h4 class="section-title">Font Size Scale</h4>
                  <div class="font-sizes-showcase">
                    <p class="size-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeSmall * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Small Text ({{ currentTheme.fontSizeSmall }}px) - Perfect for captions and labels
                    </p>
                    <p class="size-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeMedium * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Medium Text ({{ currentTheme.fontSizeMedium }}px) - Standard body text size
                    </p>
                    <p class="size-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Base Text ({{ currentTheme.fontSizeBase }}px) - Primary content size
                    </p>
                    <p class="size-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeLarge * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Large Text ({{ currentTheme.fontSizeLarge }}px) - For emphasis and readability
                    </p>
                    <p class="size-sample"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeXLarge * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Extra Large Text ({{ currentTheme.fontSizeXLarge }}px) - Maximum impact
                    </p>
                  </div>
                </div>

                <mat-divider class="typography-divider"></mat-divider>

                <!-- Combined Preview -->
                <div class="typography-section">
                  <h4 class="section-title">Combined Typography Example</h4>
                  <div class="combined-preview">
                    <h2 [style.font-family]="currentTheme.headingFontFamily"
                        [style.font-weight]="currentTheme.headingFontWeight"
                        [style.font-size.px]="currentTheme.h2Size * currentTheme.textScaling">
                      {{ currentTheme.brandName || 'Enterprise Application' }}
                    </h2>
                    <p class="theme-text-secondary"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeightLight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      This section demonstrates how different typography settings work together in a real-world scenario.
                    </p>
                    <p [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeight"
                       [style.line-height]="currentTheme.lineHeight"
                       [style.letter-spacing.em]="currentTheme.letterSpacing">
                      Regular body text maintains optimal readability with your chosen settings. The combination of
                      <strong [style.font-weight]="currentTheme.fontWeightBold">font weight</strong>,
                      line height, and letter spacing creates a harmonious reading experience.
                    </p>
                    <a href="#" class="theme-link"
                       [style.font-family]="currentTheme.fontFamily"
                       [style.font-size.px]="currentTheme.fontSizeBase * currentTheme.textScaling"
                       [style.font-weight]="currentTheme.fontWeightMedium"
                       (click)="$event.preventDefault()">Learn more about typography →</a>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
            <app-color-palette-display [theme]="currentTheme"></app-color-palette-display>

            <!-- Feature Showcase -->
            <mat-card class="features-card theme-card">
              <mat-card-header>
                <mat-card-title class="theme-heading">Enterprise Features</mat-card-title>
              </mat-card-header>

              <mat-card-content>
                <div class="features-grid">
                  <div *ngFor="let feature of enterpriseFeatures; trackBy: trackByFeature"
                       class="feature-item theme-feature-card">
                    <div class="feature-icon theme-icon-container">
                      <mat-icon class="theme-icon-large" [class]="'icon-' + currentTheme.iconStyle">{{ feature.icon }}</mat-icon>
                    </div>
                    <h4 class="feature-title theme-heading-small">{{ feature.title }}</h4>
                    <p class="feature-desc theme-text-secondary">{{ feature.description }}</p>
                  </div>
                </div>
              </mat-card-content>
            </mat-card>

            <!-- Animated Elements Preview (NEW) -->
            <mat-card class="animation-preview theme-card" *ngIf="currentTheme.enableAnimations">
              <mat-card-header>
                <mat-card-title class="theme-heading">Animation Preview</mat-card-title>
              </mat-card-header>

              <mat-card-content>
                <div class="animation-examples">
                  <div class="animated-element fade-in"
                       [style.animation-duration.ms]="currentTheme.animationSpeed"
                       [style.animation-timing-function]="currentTheme.animationEasing">
                    Fade In
                  </div>
                  <div class="animated-element slide-in"
                       [style.animation-duration.ms]="currentTheme.animationSpeed"
                       [style.animation-timing-function]="currentTheme.animationEasing">
                    Slide In
                  </div>
                  <div class="animated-element scale-in"
                       [style.animation-duration.ms]="currentTheme.animationSpeedFast"
                       [style.animation-timing-function]="currentTheme.animationEasing">
                    Scale In
                  </div>
                  <div class="animated-element rotate-in"
                       [style.animation-duration.ms]="currentTheme.animationSpeedSlow"
                       [style.animation-timing-function]="currentTheme.animationEasing">
                    Rotate In
                  </div>
                </div>
              </mat-card-content>
            </mat-card>

            <!-- Shadow & Effects Preview -->
            <mat-card class="effects-preview theme-card" *ngIf="currentTheme.enableShadows || currentTheme.enableBlur || currentTheme.designStyle === 'glassmorphic' || currentTheme.designStyle === 'neumorphic'">
              <mat-card-header>
                <mat-card-title class="theme-heading">Effects Preview</mat-card-title>
              </mat-card-header>

              <mat-card-content>
                <div class="effects-grid">
                  <div class="shadow-example theme-shadow-small" *ngIf="currentTheme.enableShadows">
                    Small Shadow
                  </div>
                  <div class="shadow-example theme-shadow-medium" *ngIf="currentTheme.enableShadows">
                    Medium Shadow
                  </div>
                  <div class="shadow-example theme-shadow-large" *ngIf="currentTheme.enableShadows">
                    Large Shadow
                  </div>
                  <div class="glass-example theme-glass" *ngIf="currentTheme.designStyle === 'glassmorphic' && currentTheme.enableBlur">
                    Glass Effect
                  </div>
                  <div class="neuro-example theme-neuro" *ngIf="currentTheme.designStyle === 'neumorphic'">
                    Neumorphic
                  </div>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
